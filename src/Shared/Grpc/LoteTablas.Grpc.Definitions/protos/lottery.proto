syntax = "proto3";

option csharp_namespace = "LoteTablas.Grpc.Definitions";

package LotteryService;

import "common.proto";

// The greeting service definition.
service Lottery {

    // Lottery
    rpc GetLotteriesByUserId (Common.UserIdRequest) returns (LotteriesReply);

    rpc GetLotteriesByLotteryType (LotteryTypeIdRequest) returns (LotteriesReply);

    rpc GetFreeLotteries (Common.EmptyRequest) returns (LotteriesReply);

    rpc GetLottery (LotteryIdRequest) returns (LotteryModel);

    rpc GetLotteryTypes (Common.EmptyRequest) returns (LotteryTypesReply);
  
    rpc GetLotteryCardsByLotteryId (LotteryIdRequest) returns (LotteryCardsReply);  

}

message LotteryTypeIdRequest {
	string lotteryTypeId = 1;
}

message LotteryIdRequest {
	string lotteryId = 1;
}

message LotteriesReply {
  repeated LotteryModel lotteries = 1;
}

message LotteryModel {
	string lotteryId  = 1;
	string name  = 2;
	string description = 3;
	string lotteryTypeId = 4;
	string lotteryType = 5;
	string ownerUserId = 6;
}


message LotteryTypesReply {
	repeated LotteryTypeModel lotteryTypes = 1;
}


message LotteryTypeModel {
	string lotteryTypeId = 1;
	string name = 2;
	string description = 3;
	string code = 4;
}

message LotteryCardsReply {
	repeated LotteryCardModel lotteryCards = 1;
}

message LotteryCardModel {
	string cardId  = 1;
	string name = 2;
	string description = 3;
	string imagePath = 4;
	int32 ordinal = 5;
}
